# Copyright (C) 2013 Freescale Semiconductor, Inc.
#
# See file CREDITS for list of people who contributed to this
# project.
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of
# the License or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not write to the Free Software
# Foundation Inc. 51 Franklin Street Fifth Floor Boston,
# MA 02110-1301 USA
#
# Refer docs/README.d4400image for more details about how-to configure
# and create d4400image boot image
#
# The syntax is taken as close as possible with the imximage

# NOTE: The BOOT_FROM command is obsolete.  Use the define
# CONFIG_BOOT_FROM in the d4400_evb.h file to specify source
# of boot.
#
# Boot Device : one of
# nor, qspi, eth, or sdp
#BOOT_FROM          qspi


# Device Configuration Data (DCD)
#
# Each entry must have the format:
# Addr-type           Address        Value
#
# where:
#	Addr-type register length (1,2 or 4 bytes)
#	Address	  absolute address of the register
#	value	  value to be stored in the register

#===============================================================
#
# PLL configuration
#
#;---------------------------------
#;Configuring Clock dividers to
#;---------------------------------
#;ARM_DIV     0x1
#;VSP_DIV     0x1
#;AXI_DIX     0x0
#;AHB_DIV     0x1
#;IP_DIV      0x1
#;WEIM_DIV    0xb
#;PLL_SYS_DIV 0x0
#;MMDC_DIV    0x2
#;---------------------------------
DATA 0x4   0x01094008	0x20b05011
#;---------------------------------
#;Configuring Clock source selection register
#;---------------------------------
DATA 0x4   0x01094000	0x90020000
#;---------------------------------------------------------
#;Disabling Bypass clock and system_clock select to pll_sys
#;---------------------------------------------------------
DATA 0x4   0x01094004	0x00000001

#===============================================================
#
# MMDC configuration
#
#;---------------------------------------------------------------
#; MMDC Configurations Starts here
#;---------------------------------------------------------------
DATA 0x4   0x01080000	0x04190000
DATA 0x4   0x010808B8	0x00000800
DATA 0x4   0x0108000C	0xD0DA7ff4
DATA 0x4   0x01080010	0xdb730e64
DATA 0x4   0x01080014	0x01ff00db
DATA 0x4   0x0108002C	0x00002000
DATA 0x4   0x01080030	0x00DA0e21
DATA 0x4   0x01080040	0x0000007F
DATA 0x4   0x01080008	0x12444000
DATA 0x4   0x01080004	0x00030036
DATA 0x4   0x01080018	0x00000680
DATA 0x4   0x01080000	0x84190000
DATA 0x4   0x0108001C	0x02088032
DATA 0x4   0x0108001C	0x00008033
DATA 0x4   0x0108001C	0x00068031
DATA 0x4   0x0108001C	0x19308830
DATA 0x4   0x0108001C	0x04008040
DATA 0x4   0x01080800	0xa1390003
DATA 0x4   0x01080020	0x20699800
DATA 0x4   0x01080818	0x0002222f
#disable auto refreshes
DATA 0x4   0x01080020	0x0000C000
#Manual Refresh Command
DATA 0x4   0x0108001C	0x00008020
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000

## Write Leveling Calibration
DATA 0x4   0x0108001C	0x00848031
DATA 0x4   0x0108001C	0x00008200
# HW_WL_EN  1
DATA 0x4   0x01080808	0x00000001
#wait for calibration to complete
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
# WL Disable in MR1
DATA 0x4   0x0108001C	0x00048031
DATA 0x4   0x0108001C	0x00008000
##Manual refresh command
DATA 0x4   0x0108001C	0x00008020
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000

## Read DQS Gating Calibration
#Precharge All active bank command
DATA 0x4   0x0108001C	0x04008050
# MPR command
DATA 0x4   0x0108001C	0x00048033
#MPR Configure to Controller
DATA 0x4   0x01080890	0x00000001
#MPDGCTRL0[HW_DG_EN]
DATA 0x4   0x0108083C	0x10000000
#wait for calibration to complete
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
#Manual refresh command
DATA 0x4   0x0108001C	0x00008020
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000

##Read Calibration Started
#clear MRS in  MR3
DATA 0x4   0x0108001C	0x00008033
#Precharge All active bank command
DATA 0x4   0x0108001C	0x04008050
# MPR command
DATA 0x4   0x0108001C	0x00048033
#MPR Configure to Controller
DATA 0x4   0x01080890	0x00000001
#Start Read Calibration
DATA 0x4   0x01080860	0x00000010
#wait for calibration to complete
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000
DATA 0x4   0x04084010	0x00000000

#clear MRS in  MR3
DATA 0x4   0x0108001C	0x00008033
DATA 0x4   0x01080020	0x20699800
DATA 0x4   0x0108001C	0x00000000
#;*======================================================================
#; Micron_DDR_Config Script ends here
#;*======================================================================
